"use strict";(self.webpackChunkkgenots=self.webpackChunkkgenots||[]).push([[6004,5170],{5170:(a,t,e)=>{e.r(t),e.d(t,{dyte_file_message_view:()=>o});var i=e(7176),r=(e(8410),e(8724)),s=e(6677),l=(e(804),e(2906)),d=e(6396);const o=class{constructor(a){(0,i.r)(this,a),this.name=void 0,this.size=void 0,this.url=void 0,this.iconPack=r.d,this.t=(0,s.u)()}render(){return(0,i.h)("div",{class:"file"},(0,i.h)("dyte-button",{variant:"secondary",kind:"icon",iconPack:this.iconPack,t:this.t,onClick:()=>(0,d.d)((0,l.a)(this.url),{name:this.name,fallbackName:"file"}),part:"button"},(0,i.h)("dyte-icon",{icon:this.iconPack.download,iconPack:this.iconPack,t:this.t})),(0,i.h)("div",{class:"file-data"},(0,i.h)("div",{class:"name"},this.name),(0,i.h)("div",{class:"file-data-split"},(0,i.h)("div",{class:"ext"},(0,d.g)(this.name)),(0,i.h)("span",{class:"divider"}),(0,i.h)("div",{class:"size"},(0,d.a)(this.size)))))}};o.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);min-width:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.file .file-data{margin-left:var(--dyte-space-1, 4px);flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--dyte-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}"},6396:(a,t,e)=>{e.d(t,{a:()=>s,d:()=>l,g:()=>r});var i=e(2906);const r=a=>a.split(/[#?]/)[0].split(".").pop().trim(),s=a=>{if(!a)return"0 B";const t=Math.floor(Math.log(a)/Math.log(1024));return`${(a/1024**t).toFixed(2)} ${["B","kB","MB","GB","TB"][t]}`},l=async(a,t)=>{a=(0,i.a)(a);let e=null==t?void 0:t.name;const r=await fetch(a);if(!r.ok)return void window.open(a,"_blank");const s=URL.createObjectURL(await r.blob()),l=document.createElement("a");l.href=s,l.download=null!=e?e:((a,t="file")=>{try{const e=new URL(a).pathname.split("/").pop();return"/"!==e?e:t}catch(e){return t}})(a,null==t?void 0:t.fallbackName),l.click()}}}]);