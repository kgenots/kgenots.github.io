"use strict";(self.webpackChunkkgenots=self.webpackChunkkgenots||[]).push([[4737],{528:(e,t,i)=>{i.d(t,{d:()=>R});var n=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{},a="object"==typeof s&&s&&s.Object===Object&&s,r="object"==typeof self&&self&&self.Object===Object&&self,o=a||r||Function("return this")(),d=function(){return o.Date.now()},c=/\s/;var h=function(e){for(var t=e.length;t--&&c.test(e.charAt(t)););return t},p=/^\s+/;var l=function(e){return e?e.slice(0,h(e)+1).replace(p,""):e},g=o.Symbol,u=Object.prototype,m=u.hasOwnProperty,v=u.toString,f=g?g.toStringTag:void 0;var S=function(e){var t=m.call(e,f),i=e[f];try{e[f]=void 0;var n=!0}catch(a){}var s=v.call(e);return n&&(t?e[f]=i:delete e[f]),s},y=Object.prototype.toString;var P=function(e){return y.call(e)},L=g?g.toStringTag:void 0;var b=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?S(e):P(e)};var w=function(e){return null!=e&&"object"==typeof e};var x=function(e){return"symbol"==typeof e||w(e)&&"[object Symbol]"==b(e)},C=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,j=/^0o[0-7]+$/i,A=parseInt;var k=function(e){if("number"==typeof e)return e;if(x(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=l(e);var i=U.test(e);return i||j.test(e)?A(e.slice(2),i?2:8):C.test(e)?NaN:+e},z=Math.max,M=Math.min;var R=function(e,t,i){var s,a,r,o,c,h,p=0,l=!1,g=!1,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var i=s,n=a;return s=a=void 0,p=t,o=e.apply(n,i)}function v(e){var i=e-h;return void 0===h||i>=t||i<0||g&&e-p>=r}function f(){var e=d();if(v(e))return S(e);c=setTimeout(f,function(e){var i=t-(e-h);return g?M(i,r-(e-p)):i}(e))}function S(e){return c=void 0,u&&s?m(e):(s=a=void 0,o)}function y(){var e=d(),i=v(e);if(s=arguments,a=this,h=e,i){if(void 0===c)return function(e){return p=e,c=setTimeout(f,t),l?m(e):o}(h);if(g)return clearTimeout(c),c=setTimeout(f,t),m(h)}return void 0===c&&(c=setTimeout(f,t)),o}return t=k(t)||0,n(i)&&(l=!!i.leading,r=(g="maxWait"in i)?z(k(i.maxWait)||0,t):r,u="trailing"in i?!!i.trailing:u),y.cancel=function(){void 0!==c&&clearTimeout(c),p=0,s=h=a=c=void 0},y.flush=function(){return void 0===c?o:S(d())},y}},4737:(e,t,i)=>{i.r(t),i.d(t,{dyte_grid:()=>l});var n=i(7176),s=i(1783),a=i(8724),r=i(6677),o=i(528),d=i(7341),c=i(9126),h=i(8410),p=i(5673);i(5114),i(804);const l=class{constructor(e){(0,n.r)(this,e),this.stateUpdate=(0,n.c)(this,"dyteStateUpdate",7),this.hideSelf=!1,this.networkUpdateListener=({event:e})=>{this.meetingConnected="connected"===e},this.meetingDisconnectedListener=()=>{this.networkUpdateListener({event:"disconnected"})},this.meetingConnectedListener=()=>{this.networkUpdateListener({event:"connected"})},this.filterParticipants=e=>{var t;if(this.overrides&&(null===(t=this.overrides)||void 0===t?void 0:t.videoUnsubscribed)){const t=this.overrides.videoUnsubscribed.preset;t.length>0&&(e=e.filter((e=>!t.some((t=>void 0!==e.presetName&&e.presetName.match(t))))))}return e},this.onViewModeChanged=()=>{null!=this.meeting&&this.updateActiveParticipants()},this.onParticipantJoined=(0,o.d)((()=>{this.updateActiveParticipants()}),50),this.onParticipantLeft=(0,o.d)((()=>{this.updateActiveParticipants()}),50),this.stageStatusListener=()=>{this.updateActiveParticipants(),this.showLiveStreamPlayer=(0,h.a)(this.meeting),"ON_STAGE"!==this.meeting.stage.status&&this.removeScreenShare(this.meeting.self)},this.peerStageStatusListener=e=>{this.updateActiveParticipants(),"ON_STAGE"!==this.meeting.stage.status&&(this.removePinned(e),this.removeScreenShare(e))},this.onScreenShareUpdate=e=>{e.screenShareEnabled?this.addScreenShare(e):this.removeScreenShare(e)},this.onSelfScreenShareUpdate=({screenShareEnabled:e})=>{e?this.addScreenShare(this.meeting.self):this.removeScreenShare(this.meeting.self)},this.onPluginStateUpdate=(e,{active:t})=>{t?this.plugins.some((t=>t.id===e.id))||(this.plugins=[...this.plugins,e]):this.plugins=this.plugins.filter((t=>t.id!==e.id))},this.onParticipantPinned=()=>{this.updateActiveParticipants()},this.onParticipantUnpinned=()=>{this.updateActiveParticipants()},this.roomJoinedListener=()=>{this.mediaConnected=this.meeting.meta.mediaConnected},this.updateRoomStateListener=()=>{this.roomState=this.meeting.self.roomState},this.participants=[],this.pinnedParticipants=[],this.screenShareParticipants=[],this.plugins=[],this.showStage=!1,this.showLiveStreamPlayer=!1,this.canCurrentPeerHost=!1,this.pipSupported=!1,this.pipEnabled=!1,this.layout="row",this.aspectRatio="16:9",this.meeting=void 0,this.gap=8,this.size=void 0,this.states=c.s,this.config=s.d,this.iconPack=a.d,this.t=(0,r.u)(),this.gridSize=p.d,this.overrides={},this.meetingConnected=!0,this.mediaConnected=!0,this.roomState=void 0}connectedCallback(){this.meetingChanged(this.meeting)}disconnectMeeting(e){var t;if(null==e)return;this.participants=[],this.plugins=[];const{self:i,participants:n,plugins:s,meta:a}=e;n.active.removeListener("participantJoined",this.onParticipantJoined),n.active.removeListener("participantLeft",this.onParticipantLeft),n.joined.removeListener("screenShareUpdate",this.onScreenShareUpdate),n.joined.removeListener("stageStatusUpdate",this.peerStageStatusListener),i.removeListener("screenShareUpdate",this.onSelfScreenShareUpdate),null==s||s.all.removeListener("stateUpdate",this.onPluginStateUpdate),n.pinned.removeListener("participantJoined",this.onParticipantPinned),n.pinned.removeListener("participantLeft",this.onParticipantUnpinned),i.removeListener("pinned",this.onParticipantPinned),i.removeListener("unpinned",this.onParticipantUnpinned),n.removeListener("viewModeChanged",this.onViewModeChanged),a.removeListener("disconnected",this.meetingDisconnectedListener),a.removeListener("connected",this.meetingConnectedListener),null===(t=e.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.stageStatusListener),a.removeListener("connected",this.roomJoinedListener),a.removeListener("disconnected",this.roomJoinedListener),i.removeListener("roomLeft",this.updateRoomStateListener),i.removeListener("roomJoined",this.updateRoomStateListener)}disconnectedCallback(){this.disconnectMeeting(this.meeting)}overridesChanged(e){this.updateActiveParticipants()}screenShareParticipantsChanged(e){const t=e.length>0;!!c.s.activeScreenShare!==t&&(this.stateUpdate.emit({activeScreenShare:t}),c.s.activeScreenShare=t)}pluginsChanged(e){const t=e.length>0;!!c.s.activePlugin!==t&&(this.stateUpdate.emit({activePlugin:t}),c.s.activePlugin=t)}pinnedParticipantsChanged(e){const t=e.length>0;!!c.s.activeSpotlight!==t&&(this.stateUpdate.emit({activeSpotlight:t}),c.s.activeSpotlight=t)}updateActiveParticipants(){var e;const{self:t,participants:i,stage:n}=this.meeting;this.hideSelf="ON_STAGE"!==n.status||(null===(e=t.permissions)||void 0===e?void 0:e.isRecorder)||t.permissions.hiddenParticipant,this.participants=this.filterParticipants([...i.active.toArray().filter((e=>e.id!==t.id)),..."ACTIVE_GRID"!==i.viewMode||t.isPinned||this.hideSelf?[]:[t]]),this.pinnedParticipants=[...i.pinned.toArray().filter((e=>e.id!==t.id)),...t.isPinned&&!this.hideSelf?[t]:[]],this.screenShareParticipants=i.joined.toArray().filter((e=>e.screenShareEnabled)),t.screenShareEnabled&&(this.screenShareParticipants=this.screenShareParticipants.concat([t])),this.updateStage()}updateStage(){var e;const{self:t}=this.meeting;this.meeting&&((null===(e=null==t?void 0:t.permissions)||void 0===e?void 0:e.stageEnabled)?this.showStage=0===this.participants.length&&0===this.pinnedParticipants.length:this.showStage=!1)}meetingChanged(e,t){var i,n,s;if(null!==t&&this.disconnectMeeting(t),null!=e){const{self:t,participants:a,plugins:r,meta:o,stage:d}=e,{permissions:c}=t;this.roomState=t.roomState,this.mediaConnected=o.mediaConnected;const h="ON_STAGE"!==this.meeting.stage.status,p=null==c?void 0:c.isRecorder;this.hideSelf=h||p||c.hiddenParticipant,this.participants=this.filterParticipants([...a.active.toArray(),...t.isPinned||this.hideSelf?[]:[t]]),this.pinnedParticipants=[...a.pinned.toArray(),...t.isPinned&&!this.hideSelf?[t]:[]],this.screenShareParticipants=a.joined.toArray().filter((e=>e.screenShareEnabled)),this.plugins=(null==r?void 0:r.active.toArray())||[],(null==c?void 0:c.stageEnabled)&&(this.canCurrentPeerHost=c.acceptPresentRequests||c.canPresent,this.updateStage()),this.pipSupported=this.meeting.participants.pip.isSupported()&&(null===(i=e.self.config)||void 0===i?void 0:i.pipMode),this.pipSupported&&this.meeting.participants.pip.init(),a.active.addListener("participantJoined",this.onParticipantJoined),a.active.addListener("participantLeft",this.onParticipantLeft),a.joined.addListener("screenShareUpdate",this.onScreenShareUpdate),null===(n=null==a?void 0:a.joined)||void 0===n||n.on("stageStatusUpdate",this.peerStageStatusListener),t.addListener("screenShareUpdate",this.onSelfScreenShareUpdate),null==r||r.all.addListener("stateUpdate",this.onPluginStateUpdate),a.pinned.addListener("participantJoined",this.onParticipantPinned),a.pinned.addListener("participantLeft",this.onParticipantUnpinned),t.addListener("pinned",this.onParticipantPinned),t.addListener("unpinned",this.onParticipantUnpinned),o.addListener("disconnected",this.meetingDisconnectedListener),o.addListener("connected",this.meetingConnectedListener),null==d||d.addListener("stageStatusUpdate",this.stageStatusListener),a.addListener("viewModeChanged",this.onViewModeChanged),o.addListener("connected",this.roomJoinedListener),o.addListener("disconnected",this.roomJoinedListener),t.addListener("roomLeft",this.updateRoomStateListener),t.addListener("roomJoined",this.updateRoomStateListener),(null===(s=e.stage)||void 0===s?void 0:s.status)&&this.stageStatusListener()}}addScreenShare(e){this.screenShareParticipants.some((t=>t.id===e.id))||(this.screenShareParticipants=[...this.screenShareParticipants,e])}removeScreenShare(e){this.screenShareParticipants=this.screenShareParticipants.filter((t=>t.id!==e.id))}removePinned(e){this.pinnedParticipants=this.pinnedParticipants.filter((t=>t.id!==e.id))}render(){const e={meeting:this.meeting,size:this.size,states:this.states||c.s,config:this.config,iconPack:this.iconPack,t:this.t};return"joined"===this.roomState||(0,h.a)(this.meeting)?this.mediaConnected||(0,h.a)(this.meeting)?this.meetingConnected||!this.hideSelf||(0,h.a)(this.meeting)?this.showStage&&!this.showLiveStreamPlayer?(0,n.h)(n.H,null,(0,n.h)("div",{class:"webinar-stage"},(0,n.h)("div",{class:"center"},this.canCurrentPeerHost&&(0,n.h)("div",{class:"ctr",part:"container"},(0,n.h)("p",{class:"message",part:"message"},this.t("stage.empty_host")),(0,n.h)("span",{class:"description",part:"description"},this.t("stage.empty_host_summary"))),!this.canCurrentPeerHost&&(0,n.h)("div",{class:"ctr",part:"container"},(0,n.h)("p",{class:"message",part:"message"},this.t("stage.empty_viewer")))))):this.showLiveStreamPlayer?(0,n.h)(n.H,null,(0,n.h)("dyte-livestream-player",{meeting:this.meeting,size:this.size}),(0,n.h)("dyte-livestream-indicator",{meeting:this.meeting,size:"sm",t:this.t}),(0,n.h)("dyte-viewer-count",{meeting:this.meeting,variant:"embedded",t:this.t})):(0,n.h)(n.H,null,(0,n.h)(d.R,{element:"dyte-grid",defaults:e,childProps:{participants:this.participants,screenShareParticipants:this.screenShareParticipants,plugins:this.plugins,pinnedParticipants:this.pinnedParticipants,aspectRatio:this.aspectRatio,gap:this.gap,layout:this.layout,gridSize:this.gridSize},onlyChildren:!0}),(0,n.h)("dyte-livestream-indicator",{meeting:this.meeting,size:"sm",t:this.t}),(0,n.h)("dyte-viewer-count",{meeting:this.meeting,variant:"embedded"})):(0,n.h)("div",{class:"offline-grid"},(0,n.h)("p",null,this.t("stage.reconnecting"))):(0,n.h)(n.H,null,(0,n.h)("div",{class:"offline-grid"},(0,n.h)("dyte-icon",{icon:this.iconPack.disconnected,size:"xl"}),(0,n.h)("h3",null,this.t("offline")),(0,n.h)("p",null,this.t("offline.description")))):(0,n.h)(n.H,null,(0,n.h)("div",{class:"offline-grid"},(0,n.h)("dyte-icon",{icon:this.iconPack.join_stage,size:"xl"}),(0,n.h)("h3",null,this.t("disconnected")),(0,n.h)("p",null,this.t("disconnected.description"))))}static get watchers(){return{overrides:["overridesChanged"],screenShareParticipants:["screenShareParticipantsChanged"],plugins:["pluginsChanged"],pinnedParticipants:["pinnedParticipantsChanged"],meeting:["meetingChanged"]}}};l.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;height:100%;width:100%}.offline-grid{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center}.offline-grid h3{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px);font-size:20px;font-weight:500;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.offline-grid p{margin-top:var(--dyte-space-1, 4px);margin-bottom:var(--dyte-space-1, 4px);margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px);text-align:center;font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.offline-grid dyte-icon{margin-bottom:var(--dyte-space-2, 8px)}.webinar-stage{box-sizing:border-box;height:100%;display:flex;align-content:center;align-items:center;justify-content:center;text-align:center}.webinar-stage h2{margin:var(--dyte-space-0, 0px);font-weight:normal}dyte-viewer-count{display:none}.ctr{display:flex;flex-direction:column;align-items:center}.message{font-size:16px;border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px);padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.description{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);font-size:14px}dyte-livestream-indicator{display:none}@media only screen and (max-device-height: 480px) and (orientation: landscape){dyte-viewer-count[variant='embedded']{position:absolute;top:var(--dyte-space-0, 0px);right:var(--dyte-space-2, 8px);z-index:20;margin-top:var(--dyte-space-0, 0px);margin-left:var(--dyte-space-0, 0px);display:flex}dyte-livestream-indicator{position:absolute;top:var(--dyte-space-0, 0px);left:var(--dyte-space-2, 8px);z-index:20;margin-top:var(--dyte-space-0, 0px);margin-left:var(--dyte-space-0, 0px);display:flex}}"},5673:(e,t,i)=>{function n(e,t){const i=Math.pow(10,t);return Math.floor(e*i)/i}function s({dimensions:e,count:t,aspectRatio:i,gap:s}){const{width:r,height:o,rows:d,cols:c}=function({count:e,dimensions:t,aspectRatio:i,gap:s}){let{width:r,height:o}=t;if(0===r||0===o)return{width:0,height:0,rows:1,cols:1};r-=2*s,o-=2*s;const d=s,c=e,h=a(i);let p=0,l=0,g=1,u=1;const m=[];for(let n=1;n<=c;n++)m.push((r-d*(n-1))/n),m.push((o-d*(n-1))/(n*h));m.sort(((e,t)=>t-e));for(const a of m)if(p=n(a,4),l=n(p*h,4),g=Math.floor((r+d)/(p+d)),u=Math.floor((o+d)/(l+d)),g*u>=c){u=Math.ceil(c/g);break}return{width:p,height:l,rows:u,cols:g}}({dimensions:e,count:t,aspectRatio:i,gap:s}),h=function({parentDimensions:e,dimensions:t,rows:i,cols:n,count:s,gap:a}){const{width:r,height:o}=e,{width:d,height:c}=t,h=(o-(c*i+(i-1)*a))/2;let p=(r-(d*n+(n-1)*a))/2;const l=c+a,g=d+a;let u=0,m=0;const v=s%n;function f(e){const t=s-e;t===v&&(p=(r-(d*t+(t-1)*a))/2);const i=h+m*l,o=p+u*g;return u++,(e+1)%n==0&&(m++,u=0),{top:i,left:o}}return f}({parentDimensions:e,dimensions:{width:r,height:o},rows:d,cols:c,count:t,gap:s});return{width:r,height:o,getPosition:h}}i.d(t,{d:()=>r,u:()=>s});const a=e=>{const[t,i]=e.split(":");return Number.parseInt(i)/Number.parseInt(t)},r={spotlight:"sm",mixed:"sm"}}}]);