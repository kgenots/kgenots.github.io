"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[73048],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>g});var o=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var c=o.createContext({}),s=function(e){var t=o.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=s(e.components);return o.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(r),g=n,f=d["".concat(c,".").concat(g)]||d[g]||u[g]||a;return r?o.createElement(f,i(i({ref:t},p),{},{components:r})):o.createElement(f,i({ref:t},p))}));function g(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var s=2;s<a;s++)i[s]=r[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,r)}d.displayName="MDXCreateElement"},58266:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>g,frontMatter:()=>l,metadata:()=>s,toc:()=>u});r(67294);var o=r(3905);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function i(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const l={title:"Publish Recorded File to Your Cloud Provider",sidebar_position:10},c=void 0,s={unversionedId:"projects/recording/custom-cloud-storage",id:"projects/recording/custom-cloud-storage",title:"Publish Recorded File to Your Cloud Provider",description:"You can pass an optional object storage_config in the start recording request",source:"@site/docs/develop/projects/recording/custom-cloud-storage.mdx",sourceDirName:"projects/recording",slug:"/projects/recording/custom-cloud-storage",permalink:"/develop/projects/recording/custom-cloud-storage",draft:!1,editUrl:"https://github.com/dyte-in/docs/tree/main/docs/develop/projects/recording/custom-cloud-storage.mdx",tags:[],version:"current",sidebarPosition:10,frontMatter:{title:"Publish Recorded File to Your Cloud Provider",sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Monitor Recording Status",permalink:"/develop/projects/recording/monitor-status"},next:{title:"Interactive Recordings with Timed Metadata",permalink:"/develop/projects/recording/interactive-recording"}},p={},u=[{value:"Set storage configuration",id:"set-storage-configuration",level:2},{value:"Using the <code>storage_config</code> option in the Start Recording API",id:"using-the-storage_config-option-in-the-start-recording-api",level:3},{value:"Set Storage Configuration Details Using Developer Portal",id:"set-storage-configuration-details-using-developer-portal",level:3},{value:"Supported Cloud Providers",id:"supported-cloud-providers",level:2},{value:"AWS S3",id:"aws-s3",level:3},{value:"Azure Blob Storage",id:"azure-blob-storage",level:3},{value:"DigitalOcean",id:"digitalocean",level:3},{value:"Google Cloud Storage (GCS)",id:"google-cloud-storage-gcs",level:3},{value:"Update the Recording File Name",id:"update-the-recording-file-name",level:2}],d={toc:u};function g(e){var{components:t}=e,r=i(e,["components"]);return(0,o.kt)("wrapper",a(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e}({},d,r),{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"You can pass an optional object ",(0,o.kt)("inlineCode",{parentName:"p"},"storage_config")," in the start recording request\nto publish the recording directly to your cloud provider. If a ",(0,o.kt)("inlineCode",{parentName:"p"},"path")," is\nspecified, the recorded video will be stored there, otherwise the default is the\nroot of the directory."),(0,o.kt)("p",null,"The filename for recording will be the same as given in ",(0,o.kt)("inlineCode",{parentName:"p"},"output_file_name"),"."),(0,o.kt)("admonition",{title:"note",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Ensure that the cloud keys you provide to Dyte APIs have only limited access.")),(0,o.kt)("h2",{id:"set-storage-configuration"},"Set storage configuration"),(0,o.kt)("p",null,"You can configure storage configs for Dyte Recordings in the following ways:"),(0,o.kt)("h3",{id:"using-the-storage_config-option-in-the-start-recording-api"},"Using the ",(0,o.kt)("inlineCode",{parentName:"h3"},"storage_config")," option in the Start Recording API"),(0,o.kt)("p",null,"This allows for the most granular level of control, and lets you specify a\nstorage_config for a specific\n",(0,o.kt)("a",{parentName:"p",href:"/api/?v=v2#/operations/start_recording"},"recording started")," on a meeting."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \\\n  --url https://api.dyte.io/v2/recordings \\\n  --header \'Authorization: Basic NzBjNWQzOTEtNGJhYy00Y2YzLTk5MDctYmVjMjA1Nzk4YWRiOmQyNzBmYjJmOGNiNGUzZWY1MGI1\' \\\n  --header \'Content-Type: application/json\' \\\n  --data \'{\n  "meeting_id": "97440c6a-140b-40a9-9499-b23fd7a3868a",\n  "storage_config": {\n    "type": "aws",\n    "access_key": "your-access-key",\n    "secret_key": "your-secret-key",\n    "bucket": "your-bucket-name",\n    "region": "us-east-1",\n    "path": "/"\n  }\n}\'\n')),(0,o.kt)("h3",{id:"set-storage-configuration-details-using-developer-portal"},"Set Storage Configuration Details Using Developer Portal"),(0,o.kt)("p",null,"You can also specify storage configuration details using Developer Portal."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In the Developer Portal, go to Recordings."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Setup Storage"),"."),(0,o.kt)("li",{parentName:"ol"},"Specify the details for your cloud provider. We support transferring\nrecordings to AWS, Azure, DigitalOcean, and Google Cloud Storage (GCS) buckets.")),(0,o.kt)("img",{src:"/static/develop/recording-storage.png",width:"600",height:"300",alt:"recording-storage",className:"record-storage"}),(0,o.kt)("br",null),(0,o.kt)("admonition",{title:"note",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If you have specified storage configuration in the\n",(0,o.kt)("a",{parentName:"p",href:"/api/?v=v2#/operations/start_recording"},"Start Recording")," APIs, it will take\nprecedence and override the storage details configured in the Developer Portal.")),(0,o.kt)("h2",{id:"supported-cloud-providers"},"Supported Cloud Providers"),(0,o.kt)("p",null,"Currently, the following cloud providers are supported:"),(0,o.kt)("h3",{id:"aws-s3"},"AWS S3"),(0,o.kt)("p",null,"To transfer recordings to the AWS S3 bucket, set the following fields in the\n",(0,o.kt)("inlineCode",{parentName:"p"},"storage_config")," parameter:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Type: Specify aws."),(0,o.kt)("li",{parentName:"ul"},"Access Key: Enter your ",(0,o.kt)("inlineCode",{parentName:"li"},"aws_access_key_id"),"."),(0,o.kt)("li",{parentName:"ul"},"Bucket: Enter your AWS S3 bucket name."),(0,o.kt)("li",{parentName:"ul"},"(Optional) Path: Specify the path to a sub-folder where recordings should be\ntransferred. If this parameter is not passed, recordings will be transferred\nto the root folder of the bucket."),(0,o.kt)("li",{parentName:"ul"},"Secret: Enter your ",(0,o.kt)("inlineCode",{parentName:"li"},"aws_secret_access_key"),"."),(0,o.kt)("li",{parentName:"ul"},"Region: Specify the region where your bucket is hosted, for example,\n",(0,o.kt)("inlineCode",{parentName:"li"},"ap-south-1"),".")),(0,o.kt)("h3",{id:"azure-blob-storage"},"Azure Blob Storage"),(0,o.kt)("p",null,"To transfer recordings to the Azure Blob Storage, set the following fields in\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"storage_config")," parameter:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Type: Specify ",(0,o.kt)("inlineCode",{parentName:"li"},"azure"),"."),(0,o.kt)("li",{parentName:"ul"},"Access key: Enter your azure connection string. For more information on how to\nget the access key, see\n",(0,o.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-account-keys-manage?toc=%2Fazure%2Fstorage%2Fblobs%2Ftoc.json&bc=%2Fazure%2Fstorage%2Fblobs%2Fbreadcrumb%2Ftoc.json&tabs=azure-portal#view-account-access-keys"},"View account access key"),"."),(0,o.kt)("li",{parentName:"ul"},"Bucket: Enter the name of your container. The container should be in the same\nstorage account as the connection string."),(0,o.kt)("li",{parentName:"ul"},"(Optional) Path: Specify the path to a sub-folder where recordings should be\ntransferred. If this parameter is not passed, recordings will be transferred\nto the root folder of the container."),(0,o.kt)("li",{parentName:"ul"},'Secret: Set to a blank string "".'),(0,o.kt)("li",{parentName:"ul"},'Region: Set to a blank string "".')),(0,o.kt)("h3",{id:"digitalocean"},"DigitalOcean"),(0,o.kt)("p",null,"To transfer recordings to the DigitalOcean Spaces, set the following fields in\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"storage_config")," parameter:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Type: Specify ",(0,o.kt)("inlineCode",{parentName:"li"},"digitalocean"),"."),(0,o.kt)("li",{parentName:"ul"},"Access key: Enter your digital ocean access key. For more information, see\n",(0,o.kt)("a",{parentName:"li",href:"https://www.digitalocean.com/community/tutorials/how-to-create-a-digitalocean-space-and-api-key"},"Create DigitalOcean Space and API Key"),"."),(0,o.kt)("li",{parentName:"ul"},"Bucket: Enter the name of your Spaces bucket."),(0,o.kt)("li",{parentName:"ul"},"(Optional) Path: Specify the path to a sub-folder where recordings should be\ntransferred. If this parameter is not passed, recordings will be transferred\nto the root folder of the container."),(0,o.kt)("li",{parentName:"ul"},"Secret: Enter your Spaces secret."),(0,o.kt)("li",{parentName:"ul"},"Region: Specify the region where your Spaces bucket is hosted, for example,\n",(0,o.kt)("inlineCode",{parentName:"li"},"SGP1"),". For more information, see\n",(0,o.kt)("a",{parentName:"li",href:"https://docs.digitalocean.com/products/platform/availability-matrix/"},"Region Availability Matrix"),".")),(0,o.kt)("h3",{id:"google-cloud-storage-gcs"},"Google Cloud Storage (GCS)"),(0,o.kt)("p",null,"To transfer recordings to GCS, set the following fields in\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"storage_config")," parameter:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Type: Specify ",(0,o.kt)("inlineCode",{parentName:"li"},"gcs"),"."),(0,o.kt)("li",{parentName:"ul"},"Bucket: Enter the name of your Cloud Storage bucket."),(0,o.kt)("li",{parentName:"ul"},"(Optional) Path: Specify the path to a sub-folder where recordings should be\ntransferred. If this parameter is not passed, recordings will be transferred\nto the root folder of the container."),(0,o.kt)("li",{parentName:"ul"},"Secret: Enter your service account credentials. For more information, see ",(0,o.kt)("a",{parentName:"li",href:"https://developers.google.com/workspace/develop/create-credentials#service-account"},"service account credentials"),"."),(0,o.kt)("li",{parentName:"ul"},"Region: Specify the region where your Cloud Storage bucket is hosted, for example,\n",(0,o.kt)("inlineCode",{parentName:"li"},"US multi-region"),". For more information, see\n",(0,o.kt)("a",{parentName:"li",href:"https://cloud.google.com/storage/docs/locations"},"Bucket locations"),".")),(0,o.kt)("h2",{id:"update-the-recording-file-name"},"Update the Recording File Name"),(0,o.kt)("p",null,"You can change the name of the recording file using the ",(0,o.kt)("inlineCode",{parentName:"p"},"file_name_prefix")," field. The default format for recorded file name is ",(0,o.kt)("inlineCode",{parentName:"p"},"roomname_timestamp"),", but you can add an alphanumeric and underscore prefix to the default file name."),(0,o.kt)("p",null,"It's important to note that you can only add a prefix to the default format; you can't change the entire file name. For example, if you teach an online physics class at 9 a.m. using Dyte, you could add ",(0,o.kt)("inlineCode",{parentName:"p"},"Physics_9am")," to the file name. ",(0,o.kt)("inlineCode",{parentName:"p"},"Physics_9am_roomname_timestamp")," would be the new file name."),(0,o.kt)("p",null,"For more information, see ",(0,o.kt)("a",{parentName:"p",href:"https://docs.dyte.io/api#/operations/start_recording"},"start recording a meeting"),"."))}g.isMDXComponent=!0}}]);