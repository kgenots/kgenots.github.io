"use strict";(self.webpackChunkkgenots=self.webpackChunkkgenots||[]).push([[9075,7514],{10510:(e,t,r)=>{r.d(t,{M:()=>m,T:()=>a,d:()=>s,e:()=>b,f:()=>c,g:()=>o,h:()=>i,i:()=>l,j:()=>n,k:()=>f,p:()=>x,r:()=>d,s:()=>y});r(85114);const n=e=>{let t=null;try{const r=JSON.parse(e.message),{target:n,message:s}=r;t=void 0===n||void 0===s?e:Object.assign(Object.assign({},e),{targetUserIds:n,message:s})}catch(r){t=e}return t};function s(e,t){return e.localeCompare(t)}function o(e){return e.sort(((e,t)=>e.localeCompare(t))).join("_")}function i(e,t){if(null==e)return!0;for(const r of e)if("file"===r.kind){const e=r.getAsFile();r.type.startsWith("image/")?t("image",e):t("file",e)}}const a="dm__";function l(e){return e.isDirectMessage}function c(e){return[...new Set(e)].sort(s).join("<>")}function d(e){return e.split("").reverse().join("")}const h=/^\*([^*\s]+)\*/,p=/^_([^_\s]+)_/,u=/^~([^~\s]+)~/,g=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.,~#?&//=]*)/,f=/<blockquote>[.\s\S]*<\/blockquote>\n\n/m;function b(e,t=!1){if(!f.test(e))return"";let r=0,n=13;return t&&(r=12,n=0),e.substring(e.indexOf("<blockquote>")+r,e.indexOf("</blockquote>")+n)}function y(e){return e.replace(f,"")}const m=2e3,k=["<a>","<b>","<i>","<q>","<s>"];function x(e){e=(e=e.split(" ").map((e=>{if(g.test(e)){const t=g.exec(e);e=e.replace(t[0],`<a>${t[0]}</a>`)}else{if(h.test(e)){const t=h.exec(e);e=e.replace(t[0],`<b>${t[1]}</b>`)}if(p.test(e)){const t=p.exec(e);e=e.replace(t[0],`<i>${t[1]}</i>`)}if(u.test(e)){const t=u.exec(e);e=e.replace(t[0],`<s>${t[1]}</s>`)}}return e})).join(" ")).split(" ").map(((e,t)=>">"!==e||0!==t&&">"!==e[t-1]?e:"<q></q>")).join(" ");const[t]=v(e);return t}function v(e,t=""){const r=[];if(0===e.length)return[r,0];let n=0;for(;n<e.length;){if(t.length&&t===e.substring(n,n+t.length))return[r,n+t.length];if(k.includes(e.substring(n,n+3))){const[t,s]=v(e.substring(n+3),`</${e[n+1]}>`);r.push({type:e[n+1],content:1===t.length&&"plain_text"===t[0].type?t[0].content:t}),n+=s+3}else{let t=r[r.length-1];t&&"plain_text"===t.type||(r.push({type:"plain_text",content:""}),t=r[r.length-1]),t.content+=e[n],n++}}return[r,n]}},7514:(e,t,r)=>{r.r(t),r.d(t,{dyte_markdown_view:()=>o});var n=r(37176),s=r(10510);r(85114),r(60804);const o=class{constructor(e){(0,n.r)(this,e),this.restoreEmpty=(e,t,r)=>0===e.trim().length?`${t}${e}${t}`:r(e),this.renderLink=e=>(0,n.h)("a",{class:"link",href:e,target:"_blank",rel:"noopener noreferrer"},e),this.renderBold=e=>"string"==typeof e?this.restoreEmpty(e,"*",(e=>(0,n.h)("b",null,e))):(0,n.h)("b",null,this.renderTokens(e)),this.renderItalic=e=>"string"==typeof e?this.restoreEmpty(e,"_",(e=>(0,n.h)("i",null,e))):(0,n.h)("i",null,this.renderTokens(e)),this.renderStrikethrough=e=>"string"==typeof e?this.restoreEmpty(e,"~",(e=>(0,n.h)("s",null,e))):(0,n.h)("b",null,this.renderTokens(e)),this.renderPlainText=e=>"string"==typeof e?e:(0,n.h)("p",null,this.renderTokens(e)),this.renderTokens=e=>e.map((e=>{switch(e.type){case"a":if("string"==typeof e.content)return this.renderLink(e.content);case"b":return this.renderBold(e.content);case"i":return this.renderItalic(e.content);case"s":return this.renderStrikethrough(e.content);case"q":return(0,n.h)("span",{class:"block-quote"});default:return this.renderPlainText(e.content)}})),this.text=void 0,this.maxLength=s.M}render(){const e=this.text.slice(0,this.maxLength),t=(0,s.e)(e,!0),r=(0,s.s)(e);return(0,n.h)("p",null,0!==t.length&&(0,n.h)("blockquote",null,t.split("\n").map((e=>{const t=(0,s.p)(e);return(0,n.h)("p",null,this.renderTokens(t))}))),r.split("\n").map((e=>{const t=(0,s.p)(e);return(0,n.h)("p",null,this.renderTokens(t))})))}};o.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{word-break:break-all}a{color:currentColor}.block-quote,blockquote{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px);--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-md, 2px);border-right-width:var(--dyte-border-width-none, 0);border-style:solid;padding:var(--dyte-space-0\\.5, 2px);padding-left:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);border-top-left-radius:var(--dyte-border-radius-none, 0);border-bottom-left-radius:var(--dyte-border-radius-none, 0)}"}}]);