"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[75096],{3905:(e,t,i)=>{i.d(t,{Zo:()=>p,kt:()=>d});var n=i(67294);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}var c=n.createContext({}),s=function(e){var t=n.useContext(c),i=t;return e&&(i="function"==typeof e?e(t):a(a({},t),e)),i},p=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var i=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=s(i),d=o,h=m["".concat(c,".").concat(d)]||m[d]||u[d]||r;return i?n.createElement(h,a(a({ref:t},p),{},{components:i})):n.createElement(h,a({ref:t},p))}));function d(e,t){var i=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=i.length,a=new Array(r);a[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var s=2;s<r;s++)a[s]=i[s];return n.createElement.apply(null,a)}return n.createElement.apply(null,i)}m.displayName="MDXCreateElement"},57891:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>u});i(67294);var n=i(3905);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})),e}function a(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}const l={title:"Migrate from Twilio to Dyte with Shim",sidebar_position:3},c=void 0,s={unversionedId:"migration/twilio/twilio-shim-by-dyte",id:"migration/twilio/twilio-shim-by-dyte",title:"Migrate from Twilio to Dyte with Shim",description:"The Twilio Shim by Dyte is a package that allows you to migrate your video calling applications from Twilio to Dyte infrastructure.",source:"@site/docs/develop/migration/twilio/twilio-shim-by-dyte.mdx",sourceDirName:"migration/twilio",slug:"/migration/twilio/twilio-shim-by-dyte",permalink:"/develop/migration/twilio/twilio-shim-by-dyte",draft:!1,editUrl:"https://github.com/dyte-in/docs/tree/main/docs/develop/migration/twilio/twilio-shim-by-dyte.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Migrate from Twilio to Dyte with Shim",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Concepts: Media",permalink:"/develop/migration/twilio/concept-media"},next:{title:"Supported Features: Dyte Shim for Twilio",permalink:"/develop/migration/twilio/compatibility-shim-twilio"}},p={},u=[{value:"Start migrating from Twilio to Dyte with Shim",id:"start-migrating-from-twilio-to-dyte-with-shim",level:2},{value:"Usage",id:"usage",level:2},{value:"Connect to a room",id:"connect-to-a-room",level:3},{value:"Add a participant",id:"add-a-participant",level:3},{value:"Enable audio and video",id:"enable-audio-and-video",level:3}],m={toc:u};function d(e){var{components:t}=e,i=a(e,["components"]);return(0,n.kt)("wrapper",r(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){o(e,t,i[t])}))}return e}({},m,i),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"The Twilio ",(0,n.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Shim_(computing)"},"Shim")," by Dyte is a package that allows you to migrate your video calling applications from ",(0,n.kt)("a",{parentName:"p",href:"https://sdk.twilio.com/js/video/releases/2.27.0/docs/index.html"},"Twilio")," to Dyte infrastructure."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Dyte provides a set of shim libraries that serve as seamless replacements for the Twilio video APIs. These shims serve as a fundamental building block for migrating your real-time voice and video applications from Twilio to Dyte infrastructure."),(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("inlineCode",{parentName:"li"},"@dytesdk/twilio-shim")," package serves as a wrapper over the Dyte SDK with an external API that is fully compatible with Twilio JS. As a drop-in replacement for Twilio JS, it can handle most of the methods and events that are present in the original library.")),(0,n.kt)("p",null,"Please ",(0,n.kt)("a",{parentName:"p",href:"https://dyte.io/contact"},"contact us")," for any help or support with the migration."),(0,n.kt)("h2",{id:"start-migrating-from-twilio-to-dyte-with-shim"},"Start migrating from Twilio to Dyte with Shim"),(0,n.kt)("p",null,"To get started with the Dyte Shim for Twilio, install the shim from the NPM Registry using the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash",metastring:"npm",npm:!0},"npm install @dytesdk/twilio-shim\n")),(0,n.kt)("h2",{id:"usage"},"Usage"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"@dytesdk/twilio-shim")," shares the same API as the Twilio video SDK. You can use most of the methods that are supported by it."),(0,n.kt)("p",null,"Here are some sample cases, and if you want to see a complete list of compatible features, see the ",(0,n.kt)("a",{parentName:"p",href:"/develop/migration/twilio/compatibility-shim-twilio"},"Twilio Shim: Supported Features")," page."),(0,n.kt)("h3",{id:"connect-to-a-room"},"Connect to a room"),(0,n.kt)("p",null,"You can obtain Dyte authentication token ",(0,n.kt)("inlineCode",{parentName:"p"},"<DYTE-AUTH-TOKEN>")," using the ",(0,n.kt)("a",{parentName:"p",href:"/api#/operations/add_participant"},"Add a Participant API"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"const { connect } = require('@dytesdk/twilio-shim');\n\nconst authToken = '<AUTH_TOKEN_FROM_DYTE_API>';\nconst room = await connect(authToken, { audio: false, video: true });\nconsole.log(`Successfully joined a Room: ${room.name}`);\nconsole.log(room);\nroom.on('participantConnected', (participant) => {\n  console.log(`A remote Participant connected: ${participant}`);\n});\n")),(0,n.kt)("h3",{id:"add-a-participant"},"Add a participant"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"const { connect } = require('@dytesdk/twilio-shim');\n\nconst authToken = '<AUTH_TOKEN_FROM_DYTE_API>';\nconst room = await connect(authToken, { audio: false, video: false });\nroom.on('participantConnected', (participant) => {\n  console.log(`Participant \"${participant.identity}\" connected`);\n\n  participant.tracks.forEach((publication) => {\n    if (publication.isSubscribed) {\n      const track = publication.track;\n      document.getElementById('remote-media-div').appendChild(track.attach());\n    }\n  });\n\n  participant.on('trackSubscribed', (track) => {\n    console.log('Subscribed to track', track);\n    const element = track.attach();\n    console.log(element);\n    document.getElementById('remote-media-div').appendChild(element);\n  });\n});\n")),(0,n.kt)("h3",{id:"enable-audio-and-video"},"Enable audio and video"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"const { connect } = require('@dytesdk/twilio-shim');\n\nconst authToken = '<AUTH_TOKEN_FROM_DYTE_API>';\nconst room = await connect(authToken, { audio: true, video: true });\n\nroom.localParticipant.audioTracks.forEach((publication) => {\n  publication.track.disable();\n});\n\nroom.localParticipant.videoTracks.forEach((publication) => {\n  publication.track.disable();\n});\n\n// Enable audio and video tracks after 5 seconds\nsetTimeout(() => {\n  room.localParticipant.audioTracks.forEach((publication) => {\n    publication.track.enable();\n  });\n\n  room.localParticipant.videoTracks.forEach((publication) => {\n    publication.track.enable();\n  });\n}, 5000);\n")))}d.isMDXComponent=!0}}]);