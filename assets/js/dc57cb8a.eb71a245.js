"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[40542],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>m});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),c=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=c(r),m=a,g=d["".concat(p,".").concat(m)]||d[m]||u[m]||o;return r?n.createElement(g,i(i({ref:t},l),{},{components:r})):n.createElement(g,i({ref:t},l))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},84491:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>p,default:()=>m,frontMatter:()=>s,metadata:()=>c,toc:()=>u});r(67294);var n=r(3905);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const s={title:"[SDK] LiveSketch",sidebar_position:2},p=void 0,c={unversionedId:"urbanbase/sdk-livesketch",id:"urbanbase/sdk-livesketch",title:"[SDK] LiveSketch",description:"This topic explains how to use Dyte to implement composite recording.",source:"@site/docs/projects/urbanbase/sdk-livesketch.mdx",sourceDirName:"urbanbase",slug:"/urbanbase/sdk-livesketch",permalink:"/projects/urbanbase/sdk-livesketch",draft:!1,tags:[],version:"current",lastUpdatedAt:1693223168,formattedLastUpdatedAt:"2023\ub144 8\uc6d4 28\uc77c",sidebarPosition:2,frontMatter:{title:"[SDK] LiveSketch",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"[SDK] Core",permalink:"/projects/urbanbase/sdk-core"},next:{title:"[BO App] Magic",permalink:"/projects/urbanbase/bo-app-magic"}},l={},u=[{value:"Using the <code>record_on_start</code> parameter",id:"using-the-record_on_start-parameter",level:2},{value:"Request",id:"request",level:3},{value:"Response",id:"response",level:3},{value:"Using the Start Recording API",id:"using-the-start-recording-api",level:2},{value:"Request",id:"request-1",level:3},{value:"Response",id:"response-1",level:3}],d={toc:u};function m(e){var{components:t}=e,r=i(e,["components"]);return(0,n.kt)("wrapper",o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({},d,r),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"This topic explains how to use Dyte to implement composite recording."),(0,n.kt)("p",null,"Before getting started with this guide, we recommend that you read\n",(0,n.kt)("a",{parentName:"p",href:"/getting-started"},"Getting Started with Dyte")," to familiarize yourself with Dyte."),(0,n.kt)("p",null,"There are two ways to start a recording a Dyte meeting:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Using the ",(0,n.kt)("inlineCode",{parentName:"li"},"record_on_start")," flag when\n",(0,n.kt)("a",{parentName:"li",href:"/api/?v=v2#/operations/create_meeting"},"creating a meeting")),(0,n.kt)("li",{parentName:"ul"},"Using the ",(0,n.kt)("a",{parentName:"li",href:"/api/?v=v2#/operations/start_recording"},"Start Recording API"))),(0,n.kt)("p",null,"Dyte stores recordings for a period of 7 days, after which they will expire and no longer be accessible. It is important to either download a copy of your recording or ",(0,n.kt)("a",{parentName:"p",href:"https://kgenots.com/develop/recording/custom-cloud-storage#set-storage-configuration"},"set up storage")," before the link expires."),(0,n.kt)("admonition",{title:"note",type:"info"},(0,n.kt)("ol",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ol"},"Our system does not currently support recordings of brief durations that are less than five seconds. In such cases, it is possible that the recording APIs may experience occasional failures. Due to limitations in encoding recordings of short duration, these failures may result in an ERRORED state."),(0,n.kt)("li",{parentName:"ol"},"Recording will stop if there are no participants in a meeting for 60 seconds."),(0,n.kt)("li",{parentName:"ol"},"There can only be one active recording of a meeting at any given time."),(0,n.kt)("li",{parentName:"ol"},"The average file size for one hour of recording is approximately 300MB."),(0,n.kt)("li",{parentName:"ol"},"Maximum recording time is 24 hours. Recording will automatically stop after\n24 hours have elapsed since the recording's start time. This option can be\nconfigured to any value up to 24 hours by passing the ",(0,n.kt)("inlineCode",{parentName:"li"},"max_seconds")," parameter\nin the ",(0,n.kt)("a",{parentName:"li",href:"/api/?v=v2#/operations/start_recording"},"start recording")," API request."))),(0,n.kt)("h2",{id:"using-the-record_on_start-parameter"},"Using the ",(0,n.kt)("inlineCode",{parentName:"h2"},"record_on_start")," parameter"),(0,n.kt)("p",null,"When ",(0,n.kt)("a",{parentName:"p",href:"/api/?v=v2#/operations/create_meeting"},"creating a meeting"),", you can\nspecify the ",(0,n.kt)("inlineCode",{parentName:"p"},"record_on_start")," parameter to start the recording as soon as someone joins the\nmeeting."),(0,n.kt)("admonition",{title:"Specify storage_config",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"If you\u2019re using this method to start the recording, you must specify the\n`storage-config' using the ",(0,n.kt)("a",{parentName:"p",href:"https://dev.dyte.io/"},"Developer Portal"),".")),(0,n.kt)("h3",{id:"request"},"Request"),(0,n.kt)("p",null,"Specify the ",(0,n.kt)("inlineCode",{parentName:"p"},"record_on_start")," parameter. If this flag is true, then a recording\nwill be started as soon as a meeting starts on Dyte, i.e, when the first\nparticipant joins the meeting."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \\\n  --url https://api.dyte.io/v2/meetings \\\n  --header \'Authorization: Basic NzcyNDMyYXNoZGphZDpkc2ZzZGFmc2FkZmFzZGZzZGY=\' \\\n  --header \'Content-Type: application/json\' \\\n  --data \'{\n  "title": "Lorem Ipsum",\n  "preferred_region": "ap-south-1",\n  "record_on_start": true\n}\'\n')),(0,n.kt)("h3",{id:"response"},"Response"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "success": true,\n  "data": {\n    "id": "497f6eca-6276-4993-bfeb-53cbbbba6f08",\n    "preferred_region": "ap-south-1",\n    "record_on_start": true,\n    "created_at": "2019-08-24T14:15:22Z",\n    "updated_at": "2019-08-24T14:15:22Z"\n  }\n}\n')),(0,n.kt)("h2",{id:"using-the-start-recording-api"},"Using the Start Recording API"),(0,n.kt)("p",null,"You can also start a recording using the\n",(0,n.kt)("a",{parentName:"p",href:"/api/?v=v2#/operations/start_recording"},"Start Recording")," API."),(0,n.kt)("p",null,"Specify the ",(0,n.kt)("inlineCode",{parentName:"p"},"meeting ID")," of the meeting that you want to record."),(0,n.kt)("p",null,"Use the ",(0,n.kt)("a",{parentName:"p",href:"/api?v=v2#/operations/get_all_meetings"},"Fetch all meetings")," for an\norganization or ",(0,n.kt)("a",{parentName:"p",href:"/api?v=v2#/operations/create_meeting"},"Create a meeting")," API to\nget the meeting ID. The API returns a parameter called ",(0,n.kt)("inlineCode",{parentName:"p"},"id"),", which is your\nmeeting ID."),(0,n.kt)("h3",{id:"request-1"},"Request"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Calling Start Recording API"',title:'"Calling',Start:!0,Recording:!0,'API"':!0},"curl --request POST \\\n  --url https://api.dyte.io/v2/recordings \\\n  --header 'Authorization: Basic NzcyNDMyYXNoZGphZDpkc2ZzZGFmc2FkZmFzZGZzZGY=' \\\n  --header 'Content-Type: application/json' \\\n  --data '{\n  \"meeting_id\": \"97440c6a-140b-40a9-9499-b23fd7a3868a\"\n}'\n")),(0,n.kt)("h3",{id:"response-1"},"Response"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "success": true,\n  "data": {\n    "id": "97440c6a-140b-40a9-9499-b23fd7a3868a",\n    "download_url": "http://example.com",\n    "download_url_expiry": "2019-08-24T14:15:22Z",\n    "download_audio_url": "http://example1.com",\n    "file_size": 0,\n    "session_id": "1ffd059c-17ea-40a8-8aef-70fd0307db82",\n    "output_file_name": "string",\n    "status": "INVOKED",\n    "invoked_time": "2019-08-24T14:15:22Z",\n    "started_time": "2019-08-24T14:15:22Z",\n    "stopped_time": "2019-08-24T14:15:22Z",\n    "storage_config": {\n      "type": "aws",\n      "secret_key": "string",\n      "bucket": "string",\n      "region": "us-east-1",\n      "path": "string"\n    }\n  }\n}\n')))}m.isMDXComponent=!0}}]);